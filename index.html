
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Page365 Courier API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#how-it-works" class="toc-h1 toc-link" data-title="How it works">How it works</a>
          </li>
          <li>
            <a href="#environment-endpoint" class="toc-h1 toc-link" data-title="Environment endpoint">Environment endpoint</a>
          </li>
          <li>
            <a href="#webhook" class="toc-h1 toc-link" data-title="Webhook">Webhook</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#shipment-created" class="toc-h2 toc-link" data-title="Shipment Created">Shipment Created</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#post-api" class="toc-h1 toc-link" data-title="POST API">POST API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#register-webhook" class="toc-h2 toc-link" data-title="Register Webhook">Register Webhook</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#patch-api" class="toc-h1 toc-link" data-title="PATCH API">PATCH API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#update-webhook" class="toc-h2 toc-link" data-title="Update Webhook">Update Webhook</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#put-api" class="toc-h1 toc-link" data-title="PUT API">PUT API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#update-shipment-details" class="toc-h2 toc-link" data-title="Update Shipment Details">Update Shipment Details</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#get-api" class="toc-h1 toc-link" data-title="GET API">GET API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-shipment-list" class="toc-h2 toc-link" data-title="Get Shipment List">Get Shipment List</a>
                  </li>
                  <li>
                    <a href="#get-specific-shipment" class="toc-h2 toc-link" data-title="Get Specific Shipment">Get Specific Shipment</a>
                  </li>
                  <li>
                    <a href="#get-account" class="toc-h2 toc-link" data-title="Get Account">Get Account</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.page365.net/'>Developed by Page365</a></li>
            <li><a href='mailto:peace@page365.net'>Technical Contact</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to Page365 Courier API. This standard allows you to become a supported courier, delivering parcels for over 300,000 merchants on the Page365 platform.</p>

<p>The purpose of the Courier API is to expedit the importing/exporting of ecommerce transaction data. Courier is still responsible for collecting shipment fees from the merchant, for handling COD transfers, and for maintaining its own relationship with the merchant. The Courier API will refer to each merchant with a consistent Account ID to ease in this mapping, as well as provide basic information about each merchant such as bank account and pickup address.</p>

<p>You can use the Courier API to register your webhook endpoint, at which Page365 will send new shipment orders. Subsequently, you can make requests according to this document to confirm shipment weight, and update shipment status for your users.</p>

<p>Courier API is implemented in standard HTTP REST protocol, and we do not yet have language libraries available. You can view examples for how to invoke the requests in Shell and Ruby in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>
<h1 id='how-it-works'>How it works</h1>
<ol>
<li><a href="#register-webhook">Register webhook</a> - first, make this request to set or update the webhook url that Page365 Courier API will push data to, after confirmed, <code>secret_key</code> will be send to you.</li>
<li><a href="#shipment-created">Wait for webhook</a> - then wait for webhook that will be send, after shipment being create. You will get shipment information from the webhook, such as, id, sender address, and receiver address.</li>
<li><a href="#update-shipment-tracking-code">Update tracking code</a> - then you will send tracking code that will be on parcel label back to us.</li>
<li>Customer bring parcel to your service store</li>
<li><a href="#confirm-shipment-weight">Update shipment weight</a> - call api update weight, after parcel being weighted.</li>
<li><a href="#update-shipment-status">Keep update shipment status</a> - customer will be able to track shipment status via the update on this api.</li>
</ol>

<p>In case of any error on webhook, you can <a href="#get-shipment-list">query list of shipments</a>, or <a href="#get-specific-shipment">specific shipment</a> by GET API anytime.</p>
<h1 id='environment-endpoint'>Environment endpoint</h1>
<p>for <ENDPOINT> value in each api.</p>

<table><thead>
<tr>
<th>Environnment</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>Staging</td>
<td><code>https://courier.staging365.net/</code></td>
</tr>
<tr>
<td>Production</td>
<td><code>https://courier.page365.net/</code></td>
</tr>
</tbody></table>
<h1 id='webhook'>Webhook</h1><h2 id='shipment-created'>Shipment Created</h2>
<blockquote>
<p>Example of returns JSON structured, after shipment being created:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1034234</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Miss Pimploen"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"086-123-4456"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pimploen@page365.net"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555 Soi Sukhumvit 63 Khwaeng Khlong Tan Nuea, Khet Watthana, Krung Thep Maha Nakhon 10110"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">10110</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"receiver"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr. Drumb"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"023456678"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d@page365.net"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Softbaked Co., Ltd. (HQ) 90 Fifty Fifth Plaza 4/F Unit 4L2 Thong Lo 2, Sukhumvit 55 Rd., Khlong Tan Nuea, Watthana, Bangkok Thailand 10110"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">10110</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"bank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tmb"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"756-1-22231-9"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr. Y"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"parcel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"is_pickup"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_cod"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">150.00</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This is the webhook detail that Page365 will send to webhook url, after any shipment being created.</p>
<h3 id='validating-payloads'>Validating Payloads</h3>
<p>Every webhook will have <strong>SHA1</strong> signature included in the request&#39;s <code>X-Hub-Signature</code> header, preceded with <code>sha1=</code>. You don&#39;t have to validate the payload, but you should.</p>

<p>To validate the payload:
- 1. Generate a <strong>SHA1</strong> signature using the payload and your <code>secret_key</code>.
- 2. Compare your signature to the signature in the <code>X-Hub-Signature</code> header (everything after <code>sha1=</code>). If the signatures match, the payload is genuine.</p>

<aside class="notice">
Please note that we generate the signature using an escaped unicode version of the payload, with lowercase hex digits. If you just calculate against the decoded bytes, you will end up with a different signature. For example, the string <i>เทสๆ</i> should be escaped to <i>\u0E40\u0E17\u0E2A\u0E46</i>.
</aside>
<h3 id='webhook-body'>Webhook Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>false</td>
<td>Shipment id</td>
</tr>
<tr>
<td>status</td>
<td>false</td>
<td>Current status of shipment (Default: <code>new</code>)</td>
</tr>
<tr>
<td>sender</td>
<td>false</td>
<td>(Account object) Sender detail</td>
</tr>
<tr>
<td>receiver</td>
<td>false</td>
<td>(Account object) Receiver detail</td>
</tr>
<tr>
<td>parcel</td>
<td>false</td>
<td>(Parcel object) Parcel detail</td>
</tr>
</tbody></table>
<h4 id='account-object'>Account object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>true</td>
<td>Account id (Mandatory on sender detail)</td>
</tr>
<tr>
<td>name</td>
<td>false</td>
<td>Account name</td>
</tr>
<tr>
<td>phone</td>
<td>true</td>
<td>Account phone, free text</td>
</tr>
<tr>
<td>email</td>
<td>true</td>
<td>Account email, allow null</td>
</tr>
<tr>
<td>address</td>
<td>false</td>
<td>(Address object) Address detail</td>
</tr>
<tr>
<td>bank_account</td>
<td>true</td>
<td>(Bank account object) Bank account detail</td>
</tr>
</tbody></table>
<h4 id='address-object'>Address object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td>false</td>
<td>Address detail on text, free text</td>
</tr>
<tr>
<td>postcode</td>
<td>false</td>
<td>Postcode</td>
</tr>
</tbody></table>
<h4 id='bank-account-object'>Bank account object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bank</td>
<td>false</td>
<td>Name of bank company</td>
</tr>
<tr>
<td>number</td>
<td>false</td>
<td>Bank number</td>
</tr>
<tr>
<td>name</td>
<td>false</td>
<td>Bank owner&#39;s name</td>
</tr>
</tbody></table>
<h4 id='parcel-object'>Parcel object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>is_pickup</td>
<td>false</td>
<td>Is this shipment require pickup or not? (Default: 0)</td>
</tr>
<tr>
<td>is_cod</td>
<td>false</td>
<td>Is this shipment cod? (Default: 0)</td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>Shipment price, in case of cod</td>
</tr>
</tbody></table>

<aside class="notice">
Optional: webhook normally expect response :ok, but can also receive <a href="#update-shipment-details">shipment object</a> too.
</aside>

<aside class="warning">
Warning: any server error code (5xx), will trigger retry logic, 3 times in total. For any client error (4xx), system will not retry at all.
</aside>
<h1 id='post-api'>POST API</h1><h2 id='register-webhook'>Register Webhook</h2><pre class="highlight ruby tab-ruby"><code><span class="no">HTTParty</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="s1">'https://&lt;ENDPOINT&gt;/providers'</span><span class="p">,</span> <span class="ss">body: </span><span class="p">{</span>
  <span class="ss">name: </span><span class="s1">'SuperFastShipping'</span><span class="p">,</span>
  <span class="ss">url: </span><span class="s1">'https://www.super-fast-shipping.com/webhook'</span>
<span class="p">}.</span><span class="nf">to_json</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     --request POST <span class="se">\</span>
     -u secret_key <span class="se">\</span>
     --data <span class="s1">'{"name":"SuperFastShipping", "url":"https://www.super-fast-shipping.com/webhook"}'</span> <span class="se">\</span>
     https://&lt;ENDPOINT&gt;/providers
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allow you to register new courier and webhook url on Page365 system.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://&lt;ENDPOINT&gt;/providers</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Name of the courier company</td>
</tr>
<tr>
<td>url</td>
<td>Webhook url that Page365 will be send shipment information to</td>
</tr>
</tbody></table>

<aside class="notice">
The register might take a few days, due to verification process before actual save into system is done by men.
</aside>
<h1 id='patch-api'>PATCH API</h1><h2 id='update-webhook'>Update Webhook</h2><pre class="highlight ruby tab-ruby"><code><span class="no">HTTParty</span><span class="p">.</span><span class="nf">patch</span><span class="p">(</span><span class="s1">'https://&lt;ENDPOINT&gt;/providers'</span><span class="p">,</span> <span class="ss">basic_auth: </span><span class="p">{</span> <span class="ss">username: </span><span class="n">secret_key</span> <span class="p">},</span> <span class="ss">body: </span><span class="p">{</span>
  <span class="ss">name: </span><span class="s1">'SuperFastShipping'</span><span class="p">,</span>
  <span class="ss">url: </span><span class="s1">'https://www.super-fast-shipping.com/new_webhook'</span>
<span class="p">}.</span><span class="nf">to_json</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     --request PATCH <span class="se">\</span>
     -u secret_key <span class="se">\</span>
     --data <span class="s1">'{"name":"SuperFastShipping", "url":"https://www.super-fast-shipping.com/mew_webhook"}'</span> <span class="se">\</span>
     https://&lt;ENDPOINT&gt;/providers
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allow you to patch updated webhook url on Page365 system.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>PATCH https://&lt;ENDPOINT&gt;/providers</code></p>
<h3 id='request-parameters-2'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Name of the courier company</td>
</tr>
<tr>
<td>url</td>
<td>Webhook url that Page365 will be send shipment information to</td>
</tr>
</tbody></table>
<h1 id='put-api'>PUT API</h1><h2 id='update-shipment-details'>Update Shipment Details</h2><pre class="highlight ruby tab-ruby"><code><span class="no">HTTParty</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s1">'https://&lt;ENDPOINT&gt;/shipments/1034234'</span><span class="p">,</span> <span class="ss">basic_auth: </span><span class="p">{</span> <span class="ss">username: </span><span class="n">secret_key</span> <span class="p">},</span> <span class="ss">body: </span><span class="p">{</span>
  <span class="ss">status: </span><span class="s1">'shipping'</span><span class="p">,</span>
  <span class="ss">tracking_code: </span><span class="s2">"ABQZ1234KL"</span><span class="p">,</span>
  <span class="ss">weight: </span><span class="mi">0</span><span class="o">.</span><span class="mo">05</span><span class="p">,</span>
  <span class="ss">reference_id: </span><span class="s1">'003-11245'</span><span class="p">,</span>
  <span class="ss">note: </span><span class="s1">'dimention size: 3 * 3 * 3'</span>
<span class="p">}.</span><span class="nf">to_json</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     --request PUT <span class="se">\</span>
     -u secret_key <span class="se">\</span>
     --data <span class="s1">'{"status":"shipping", "tracking_code":"ABQZ1234KL", "weight":0.05, "reference_id": "003-11245", "note": "dimention size: 3 * 3 * 3"}'</span> <span class="se">\</span>
     https://&lt;ENDPOINT&gt;/shipments/1034234
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allow you to update shipment status, weight, ref id, or note.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>PUT https://&lt;ENDPOINT&gt;/shipments/&lt;ID&gt;</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of shipment to update</td>
</tr>
</tbody></table>
<h3 id='request-parameters-3'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>No</td>
<td>Current status of shipment: <ul><li><code>new</code>: waiting for send / pickup</li><li><code>shipping</code>: in process of shipping</li><li><code>completed</code>: the delivery completed</li><li><code>cancelled</code>: any error that occur and make the shipping incomplete</li><li><code>returned</code>: returned parcel to sender completed</li></ul></td>
</tr>
<tr>
<td>tracking_code</td>
<td>No</td>
<td>Tracking code that will be printed on the parcel</td>
</tr>
<tr>
<td>weight</td>
<td>No</td>
<td>Weight in kilogram unit (0.05 = 50 gram)</td>
</tr>
<tr>
<td>reference_id</td>
<td>No</td>
<td>Any reference id that will be needed on other end</td>
</tr>
<tr>
<td>note</td>
<td>No</td>
<td>Any free text for given shipment</td>
</tr>
<tr>
<td>error_message</td>
<td>No</td>
<td>Reason for cancelled status</td>
</tr>
</tbody></table>
<h1 id='get-api'>GET API</h1><h2 id='get-shipment-list'>Get Shipment List</h2><pre class="highlight ruby tab-ruby"><code><span class="no">HTTParty</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'https://&lt;ENDPOINT&gt;/shipments'</span><span class="p">,</span> <span class="ss">basic_auth: </span><span class="p">{</span> <span class="ss">username: </span><span class="n">secret_key</span> <span class="p">},</span> <span class="ss">body: </span><span class="p">{</span>
  <span class="ss">name: </span><span class="s1">'SuperFastShipping'</span>
<span class="p">}.</span><span class="nf">to_json</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     --request GET <span class="se">\</span>
     -u secret_key <span class="se">\</span>
     --data <span class="s1">'{"name":"SuperFastShipping"}'</span> <span class="se">\</span>
     https://&lt;ENDPOINT&gt;/shipments
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13532</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shipping"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13565</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint allow you to get list of shipments that register for your company name.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://&lt;ENDPOINT&gt;/shipments</code></p>
<h3 id='request-parameters-4'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Name of the courier company</td>
</tr>
</tbody></table>
<h3 id='response-body'>Response Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>false</td>
<td>Shipment id</td>
</tr>
<tr>
<td>status</td>
<td>false</td>
<td>Current status of shipment (Default: <code>new</code>)</td>
</tr>
</tbody></table>
<h2 id='get-specific-shipment'>Get Specific Shipment</h2><pre class="highlight ruby tab-ruby"><code><span class="no">HTTParty</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'https://&lt;ENDPOINT&gt;/shipments/1124232'</span><span class="p">,</span> <span class="ss">basic_auth: </span><span class="p">{</span> <span class="ss">username: </span><span class="n">secret_key</span> <span class="p">})</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     --request GET <span class="se">\</span>
     -u secret_key <span class="se">\</span>
     https://&lt;ENDPOINT&gt;/shipments/1124232
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1124232</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Miss Pimploen"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"086-123-4456"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pimploen@page365.net"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555 Soi Sukhumvit 63 Khwaeng Khlong Tan Nuea, Khet Watthana, Krung Thep Maha Nakhon 10110"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">10110</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"receiver"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr. Drumb"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"023456678"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d@page365.net"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Softbaked Co., Ltd. (HQ) 90 Fifty Fifth Plaza 4/F Unit 4L2 Thong Lo 2, Sukhumvit 55 Rd., Khlong Tan Nuea, Watthana, Bangkok Thailand 10110"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">10110</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"parcel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"is_pickup"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_cod"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allow you to get details of specific shipment.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://&lt;ENDPOINT&gt;/shipments/&lt;ID&gt;</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of shipment to update</td>
</tr>
</tbody></table>
<h3 id='response-body-2'>Response Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>false</td>
<td>Shipment id</td>
</tr>
<tr>
<td>status</td>
<td>false</td>
<td>Current status of shipment (Default: <code>new</code>)</td>
</tr>
<tr>
<td>sender</td>
<td>false</td>
<td>(Account object) Sender detail</td>
</tr>
<tr>
<td>receiver</td>
<td>false</td>
<td>(Account object) Receiver detail</td>
</tr>
<tr>
<td>parcel</td>
<td>false</td>
<td>(Parcel object) Parcel detail</td>
</tr>
</tbody></table>
<h4 id='account-object-2'>Account object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>true</td>
<td>Account id (Mandatory on sender detail)</td>
</tr>
<tr>
<td>name</td>
<td>false</td>
<td>Account name</td>
</tr>
<tr>
<td>phone</td>
<td>true</td>
<td>Account phone, free text</td>
</tr>
<tr>
<td>email</td>
<td>true</td>
<td>Account email, allow null</td>
</tr>
<tr>
<td>address</td>
<td>false</td>
<td>(Address object) Address detail</td>
</tr>
</tbody></table>
<h4 id='address-object-2'>Address object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td>false</td>
<td>Address detail on text, free text</td>
</tr>
<tr>
<td>postcode</td>
<td>false</td>
<td>Postcode</td>
</tr>
</tbody></table>
<h4 id='parcel-object-2'>Parcel object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>is_pickup</td>
<td>false</td>
<td>Is this shipment require pickup or not? (Default: 0)</td>
</tr>
<tr>
<td>is_cod</td>
<td>false</td>
<td>Is this shipment cod? (Default: 0)</td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>Shipment price, in case of cod</td>
</tr>
</tbody></table>
<h2 id='get-account'>Get Account</h2><pre class="highlight ruby tab-ruby"><code><span class="no">HTTParty</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'https://&lt;ENDPOINT&gt;/accounts/&lt;ID&gt;'</span><span class="p">,</span> <span class="ss">basic_auth: </span><span class="p">{</span> <span class="ss">username: </span><span class="n">secret_key</span> <span class="p">})</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     --request GET <span class="se">\</span>
     -u secret_key <span class="se">\</span>
     https://&lt;ENDPOINT&gt;/accounts/&lt;ID&gt;
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1123</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Miss Pimploen"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"086-123-4456"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pimploen@page365.net"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555 Soi Sukhumvit 63 Khwaeng Khlong Tan Nuea, Khet Watthana, Krung Thep Maha Nakhon 10110"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">10110</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"bank_account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"bank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"742-0-17141-1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr. X"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allow you to get detail of specific account, for example, sender detail. Benefit on contact and billing to sender.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET https://&lt;ENDPOINT&gt;/accounts/&lt;ID&gt;</code></p>
<h3 id='request-parameters-5'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Account id</td>
</tr>
</tbody></table>
<h3 id='response-body-3'>Response Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>true</td>
<td>Account id</td>
</tr>
<tr>
<td>name</td>
<td>false</td>
<td>Account name</td>
</tr>
<tr>
<td>phone</td>
<td>true</td>
<td>Account phone, free text</td>
</tr>
<tr>
<td>email</td>
<td>true</td>
<td>Account email, allow null</td>
</tr>
<tr>
<td>address</td>
<td>false</td>
<td>(Address object) Address detail</td>
</tr>
<tr>
<td>bank_account</td>
<td>true</td>
<td>(Bank account object) Bank account detail</td>
</tr>
</tbody></table>
<h4 id='address-object-3'>Address object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td>false</td>
<td>Address detail on text, free text</td>
</tr>
<tr>
<td>postcode</td>
<td>false</td>
<td>Postcode</td>
</tr>
</tbody></table>
<h4 id='bank-account-object-2'>Bank account object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Allow Null</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bank</td>
<td>false</td>
<td>Name of bank company</td>
</tr>
<tr>
<td>number</td>
<td>false</td>
<td>Bank number</td>
</tr>
<tr>
<td>name</td>
<td>false</td>
<td>Bank owner&#39;s name</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>Page365 Shipping API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified shipment could not be found.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many time! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
          </div>
      </div>
    </div>
  </body>
</html>
